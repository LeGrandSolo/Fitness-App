<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My workouts</title>
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-32x32.png" />
    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="stylesheet" href="./styles/calendarStyles.css" />
    <script
      type="text/javascript"
      src="https://npmcdn.com/parse/dist/parse.min.js"
    ></script>
  </head>
  <body>
    <head>
      <h1><a href="/index.html" id="title">Be Healthier!</a></h1>
      <!-- <img src="./586296bf3796e30ac446873f.png" alt="arm picture" /> -->
      <nav>
        <ul class="ul-global">
          <li class="li-global"><a href="./workouts.html">My workouts</a></li>
          <li class="li-global">
            <a href="./excercises.html">Learn new skills</a>
          </li>
        </ul>
      </nav>
      <main>
        <div class="register">
          <form action="https://parseapi.back4app.com/">
            <label for="email">Email:</label>
            <input type="email" name="email" id="email" />
            <label for="pass">Password:</label>
            <input type="password" name="pass" id="pass" />
            <label for="repass">Confirm password:</label>
            <input type="password" name="repass" id="repass" />
            <input type="submit" name="" id="" />
          </form>
        </div>
      </main>
    </head>
  </body>

  <script>
    // Initialize Parse
    Parse.initialize(
      "dJrZ9TYsWbBOzC1knqDGayhEkg1gnmXlTM99xkmr",
      "uTzFSCfBFLhRVZDNfm1sUY1j9I9GIxapLsccU2LF"
    );
    async function createNewUser(e) {
      e.preventDefault();
      const formData = new FormData(e.target);
      data = {
        email : formData.get('email'),
        password: formData.get('pass')
      }
      const usr = new Parse.Object('User1');
      usr.set('email', data.email);
      usr.set('password', data.password);
      try{
        await usr.save()
        alert('Welcome!')
      }catch(e){
        alert(`Something went wrong :( Error: ${e.message}`)
      }
    }
    document.querySelector('form').addEventListener('submit', createNewUser);
    Parse.serverURL = "https://parseapi.back4app.com/";
  </script>
</html>
